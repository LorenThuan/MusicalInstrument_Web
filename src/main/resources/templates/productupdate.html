<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Sửa sản phẩm</title>
<link rel="stylesheet" th:href="@{/css/index.css}">
<link rel="stylesheet" th:href="@{/css/productadd.css}">
<link rel="stylesheet"
	th:href="@{/bootstrap-4.0.0-dist/css/bootstrap.min.css}">
<link rel="stylesheet"
	href="//cdn.materialdesignicons.com/5.4.55/css/materialdesignicons.min.css">
<link rel="stylesheet"
	th:href="@{/framework/font-awesome-pro-master/css/all.min.css}">
<link rel="shortcut icon" th:href="@{/img/favicon@16x.png}">
</head>

<script>
	(function(h, o, t, j, a, r) {
		h.hj = h.hj || function() {
			(h.hj.q = h.hj.q || []).push(arguments)
		};
		h._hjSettings = {
			hjid : 2352331,
			hjsv : 6
		};
		a = o.getElementsByTagName('head')[0];
		r = o.createElement('script');
		r.async = 1;
		r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
		a.appendChild(r);
	})(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');

	function kiemtraTenSP() {
		var ten = document.getElementById('tenSP').value;

		var regexTenSP = /^[A-Z].*$/;

		if (ten.length == 0) {
			document.getElementById('tbTenSP').innerHTML = '(Tên sản phẩm bắt buộc nhập!)';
			return false;
		}

		if (!regexTenSP.test(ten)) {
			document.getElementById('tbTenSP').innerHTML = "Họ tên chữ cái đầu là hoa!";
			return false;
		}

		document.getElementById('tbTenSP').innerHTML = "(*)";
		return true;
	}

	function kiemtraGiaSP() {
		var giaSp = document.getElementById("giaSP").value;

		var regexGiaSP = /^\d+$/;

		if (giaSp.trim() === '') {
			document.getElementById("tbGiaSP").innerHTML = "(Giá bắt buộc nhập!)";
			return false;
		}
		if (!regexGiaSP.test(giaSp)) {
			document.getElementById('tbGiaSP').innerHTML = "(Giá là số nguyên lớn hơn 0!)";
			return false;
		}

		document.getElementById("tbGiaSP").innerHTML = "(*)";
		return true;
	}

	function kiemtraGiamGiaSP() {

		var giamGiaSP = document.getElementById("giamGiaSP").value;

		var regexGiamGiaSP = /^[0-9]$|^[1-9][0-9]$|^(100)$/;

		if (giamGiaSP.trim() === '') {
			document.getElementById("tbGiamGiaSP").innerHTML = "(Giảm giá bắt buộc nhập!)";
			return false;
		}

		if (!regexGiamGiaSP.test(giamGiaSP)) {
			document.getElementById('tbGiamGiaSP').innerHTML = "(Giảm giá là số nguyên từ 0 đến 100!)";
			return false;
		}
		document.getElementById("tbGiamGiaSP").innerHTML = "(*)";
		return true;
	}
	function kiemtraMoTaSP() {
		let moTaSP = document.getElementById("moTaSP").value;
		if (moTaSP.trim() === '') {
			document.getElementById("tbMoTaSP").innerHTML = "(Mô tả giá bắt buộc nhập!)";
			return false;
		}
		document.getElementById("tbMoTaSP").innerHTML = "(*)";
		return true;
	}

	function kiemTraSP() {
		if (!kiemtraTenSP() || !kiemtraGiaSP() || !kiemtraGiamGiaSP()
				|| !kiemtraMoTaSP()) {
			alert("Vui lòng xem lại thông tin đã nhập");
			return false;
		}
		return true;
	}
</script>

<body>
	<!-- Back to Top Start-->
	<div onclick="clickToTop()" id="back-to-top">
		<i class="fal fa-angle-up"></i>
	</div>
	<!-- Back to Top End-->
	<div class="container-fluid">
		<div class="container-f">
			<div class="left">
				<!-- phần logo hình con nhện đầu tiên -->
				<div class="logo-banner">
					<a href="/index.html"> <img id="logo-img"
						th:src="@{/img/favicon@16x.png}" alt="">
					</a>
					<div class="left-title-content">
						<a id="logo-title" href="#"> Madara Intrumental </a>
					</div>
				</div>
				<!-- slide bar bọc các icon, mỗi 4 icon sẽ có 1 thang kẻ ngang nên dùng 1 slide bar để bọc  -->
				<div class="slide-bar">
					<div class="left-border">
						<ul class="nav">
							<li class="item" id="active"><a href="/quanlysanpham/">
									<i class="mdi mdi-weight mdi-24px"></i>
									<div class="left-title-content">Quản lí sản phẩm</div>
							</a></li>
						</ul>
					</div>




					<div class="left-border">
						<ul class="nav">
							<li class="item"><a href="/accountmanagement.html"> <i
									class="mdi mdi-account-circle mdi-24px"></i>
									<div class="left-title-content">Quản lí tài khoản</div>
							</a></li>
					</div>

					<div class="left-border">
						<ul class="nav">
							<li class="item"><a href="/thongkedoanhthu/thongke/"> <i
									class="mdi mdi-cash-usd mdi-24px"></i>
									<div class="left-title-content">Thống kê doanh thu</div>
							</a></li>

							<li class="item"><a href="/thongkekhachhang/thongke/"> <i
									class="mdi mdi-human mdi-24px"></i>
									<div class="left-title-content">Thống kê khách hàng</div>
							</a></li>
						</ul>
					</div>


					<div class="left-border">
						<ul class="nav">
							<li class="item"><a href="/changepassadmin.html"> <i
									class="mdi mdi-key-variant mdi-24px"></i>
									<div class="left-title-content">Đổi mật khẩu</div>
							</a></li>
							<li class="item"><a href="#"> <i
									class="mdi mdi-power mdi-24px"></i>
									<div class="left-title-content">Đăng xuất</div>
							</a></li>
						</ul>
					</div>

				</div>
			</div>

			<div class="right">
				<div class="wrapper-main">
					<!-- title -->
					<div class="title-content">
						<h2>Sửa thông tin sản phẩm</h2>
					</div>

					<div class="wrap-content">
						<div class="wrap-box">
							<form action="/quanlysanpham/suaSanPham"
								enctype="multipart/form-data" method="post">
								<div class="form-group">
									<label for="">ID Sản Phẩm</label> <input type="text"
										class="form-control" th:placeholder="${SPupdate.id}"
										th:value="${SPupdate.id}" name="idSPCanUpdate" readonly>
								</div>

								<div class="form-group">
									<label for="">Tên Sản Phẩm</label> <span id="tbTenSP"
										class="text-danger" style="font-style: italic;">(*)</span> <input
										type="text" class="form-control" name="tenSP" id="tenSP"
										th:value="${SPupdate.ten}" th:placeholder="${SPupdate.ten}"
										required="required" onblur="return kiemtraTenSP();">
								</div>

								<div class="form-group">
									<label for="">Giá Sản Phẩm (VND)</label> <span id="tbGiaSP"
										class="text-danger" style="font-style: italic;">(*)</span> <input
										type="number" class="form-control" th:value="${giaGoc}"
										name="giaSP" id="giaSP" th:placeholder="${giaGoc}"
										required="required" onblur="return kiemtraGiaSP();">
								</div>

								<div class="form-group">
									<label for="">Nhà Sản Xuất</label> <select class="form-control"
										name="nhaSanXuat" id="">
										<option th:each="tempNSX : ${listNSX}"
											th:value="${tempNSX.id}" th:text="${tempNSX.ten}"
											th:selected="${tempNSX.id==idNSX}" />
									</select>
								</div>

								<div class="form-group">
									<label for="">Giảm Giá (%)</label> <span id="tbGiamGiaSP"
										class="text-danger" style="font-style: italic;">(*)</span> <input
										type="number" class="form-control"
										th:value="${giamGia}"
										th:placeholder="${giamGia}" name="giamGia"
										id="giamGiaSP" required="required"
										onblur="return kiemtraGiamGiaSP();">
								</div>

								<div class="form-group">
									<label for="">Loại Sản phẩm</label> <select
										class="form-control" name="loai" id="">
										<option th:each="tempLoai : ${listLoai}"
											th:value="${tempLoai.id}" th:text="${tempLoai.ten}"
											th:selected="${tempLoai.id==idLoai}" />
									</select>
								</div>

								<div class="form-group">
									<label for="">Mô Tả Sản Phẩm</label> <span id="tbMoTaSP"
										class="text-danger" style="font-style: italic;">(*)</span>
									<textarea name="moTa" id="moTaSP" cols="30" rows="6"
										th:text="${SPupdate.moTa}" th:value="${SPupdate.moTa}"
										class="form-control" required="required"
										onblur="return kiemtraMoTaSP();"></textarea>
								</div>

								<!-- 								<div class="form-group"> -->
								<!-- 									<label for="">Hình Đại Diện Sản Phẩm</label> <span -->
								<!-- 										id="tbHinhDaiDien" class="text-danger" -->
								<!-- 										style="font-style: italic;">(*)</span> <input type="file" -->
								<!-- 										class="form-control"> -->
								<!-- 								</div> -->

								<!-- 								<div class="form-group"> -->
								<!-- 									<label for="">Hình Chi Tiết Sản Phẩm (có thể chọn nhiều -->
								<!-- 										file)</label> <span id="tbHinhPhu" class="text-danger" -->
								<!-- 										style="font-style: italic;">(*)</span> <input type="file" -->
								<!-- 										class="form-control" multiple="multiple"> -->
								<!-- 								</div> -->

								<div class="form-group">
									<label for="">Ngày Tạo</label> <input type="text"
										class="form-control" th:value="${SPupdate.ngayTao}" disabled>
								</div>

								<div class="form-group">
									<label for="">Ngày Sửa</label> <input type="text"
										class="form-control" th:placeholder="${SPupdate.ngaySua}"
										disabled>
								</div>

								<div class="form-submit">
									<button type="submit" class="btn-success"
										onclick="return kiemTraSP()">Sửa Thông Tin</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
<script th:src="@{/js/jquery-3.5.1.min.js}"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script th:src="@{/js/adminpage.js}"></script>
<script th:src="@{/js/main.js}"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script th:src="@{/bootstrap-4.0.0-dist/js/bootstrap.min.js}"></script>



